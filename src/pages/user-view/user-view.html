<ion-header>
  <ion-navbar>
    <ion-buttons left>
      <button ion-button menuToggle>
        <ion-icon name="menu" item-left></ion-icon>
      </button>
    </ion-buttons>

    <ion-title>Benutzerprofil</ion-title>

    <ion-buttons end>
      <button ion-button>
        <ion-icon name="flash" item-right></ion-icon>
      </button>
      <button ion-button (click)="goToBasket()">
        <ion-icon name="basket"item-right [ngStyle]="{'color': BasketStateColor}"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card-content>
    <form #formCtrl="ngForm">
      <div align="center" *ngIf="formCtrl.form.valid">
        <h4>{{user.name}}</h4>
      </div>
      <button ion-button (click)="goToSetting()">
        <ion-icon name="md-cog" item-right></ion-icon>
      </button>
      <ion-list>
        <ion-item>
          <ion-label stacked required>Anrede</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.Sex" name="Sex" required value="{{CurrentSex}}"></ion-input>
          <!--<ion-select>
          <ion-option>Frau</ion-option>
          <ion-option>Herr</ion-option>
        </ion-select>-->
      </ion-item>

        <ion-item>
          <ion-label stacked>Vorname</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.FirstName" name="name" required value="{{CurrentFirstName}}"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked>Nachname</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.LastName" name="surname" required value="{{CurrentLastName}}" >></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>Geburtsdatum</ion-label>
          <ion-input [disabled]="inputDisabled" [(ngModel)]="user.BDay"  name="birthdate" required value="{{CurrentBDay}}"></ion-input>
        <!--  <ion-datetime required name="birthdate" displayFormat="DD.MM.YYYY" pickerFormat="DD MM YYYY" [(ngModel)]="user.BDay" [ngModelOptions]="{standalone:true}" ></ion-datetime>-->
        </ion-item>

        <!-- <ion-item>
          <ion-label stacked>Geburtsdatum</ion-label>
          <ion-datetime required name="birthdate" displayFormat="DD.MM.YYYY" pickerFormat="DD MM YYYY" [(ngModel)]="dob" [ngModelOptions]="{standalone:true}"></ion-datetime>
        </ion-item> -->


        <ion-item>
          <ion-label stacked required>Stra√üe und Hausnummer</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.Street" name="Street" required value="{{CurrentStreet}}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Postleitzahl</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.ZipCode" name="ZipCode" required value="{{CurrentZipCode}}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>Ort</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.City" name="City" required value="{{CurrentCity}}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>Land</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.Country" name="Country" required value="{{CurrentCountry}}" ></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>Telefonnummer</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.Phone" name="Phone" required value="{{CurrentPhone}}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>E-Mail</ion-label>
          <ion-input [disabled]="inputDisabled" type="text" [(ngModel)]="user.Mail" name="Mail" #username required value="{{CurrentMail}}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>Passwort</ion-label>
          <ion-input [disabled]="inputDisabled" type="password" #password></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked required>Passwort wiederholen</ion-label>
          <ion-input [disabled]="inputDisabled" type="password" #password></ion-input>
        </ion-item>

        <!-- <ion-item>
          <ion-label stacked>PayPal</ion-label>
          <ion-input type="text" [(ngModel)]="user.payPal" name="payPal" required></ion-input>
        </ion-item> -->


        <ion-item style="display:none;">
          <ion-icon></ion-icon>
          <ion-input></ion-input>
        </ion-item>

      </ion-list>
      <button [disabled]="!formCtrl.form.valid" ion-button block (click)="updateUser()">Speichern</button>
      <a class="center-text" (click)="cancelChanges()">Abbrechen</a>
    </form>
  </ion-card-content>
</ion-content>
